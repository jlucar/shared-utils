function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=/*#__PURE__*/e(require("lodash")),n=t.default.assign,r=t.default.mapValues,o=function(e){return void 0===e&&(e={}),e=r(e,function(){return!0}),n({nested:!1,categorized:!1},e)},u=t.default.each,a=t.default.setWith,i=function(e){var t={};return u(e,function(e,n){a(t,n,e,Object)}),t},l=t.default.each,f=t.default.get,c=t.default.each,s=t.default.has;function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function g(e,t,n){return g=b()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&v(o,n.prototype),o},g.apply(null,arguments)}function y(e){var t="function"==typeof Map?new Map:void 0;return y=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return g(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},y(e)}var h=t.default.assign,m=t.default.each,O=t.default.get,j=t.default.has,P=t.default.isObject,w=t.default.kebabCase,C=t.default.last,k=t.default.mapKeys,L=t.default.mapValues,x=t.default.merge,I=t.default.set,R=t.default.size,E=t.default.split,_=t.default.startCase,F=t.default.unset,S=function(e){return"object"==typeof e&&"boolean"==typeof e.default?"switch":"input"},V=function(e,t,n){if(void 0===n&&(n=!1),P(t)){if(!n&&!j(t,"default"))throw new Error('Config "'+e+'" is missing a "default" value.')}else t={default:t};return t},T=function(e,t,n){if(void 0===n&&(n={}),delete(t=V(e,t)).key,t.docLink){var r='Documentation on this feature can be found <a href="'+t.docLink+'">here</a>.';t.hint=t.hint?r+"<br>"+t.hint:r,delete t.docLink}return h({default:null,type:S(t),label:_(C(E(e,"."))),category:"setting"},t,n)},q=function(e,n,r){return void 0===n&&(n={}),e=k(e,function(e,n){return t.default.get(e,"key",n)}),L(e,function(e,t){return r&&r(t,e),T(t,e,n)})},z=function(e,t,n){x(e,function(e,t,n){return q(t,n,function(t){if(j(e,t))throw new Error('Duplicate key: "'+t+'"')})}(e,t,n))},D=function(e,t){return h({label:_(C(E(e,"."))),order:0,toggleable:!1,description:null,rootKey:null},t)},A=function(e){var n=e.getComponents,r=e.getConfigs,o=e.getLabel,u=e.getName,a=e.source;try{var i=function(e){function u(o){function u(e){var n=function(){if(r)return Promise.resolve(r()).then(function(t){var n=q(t),r=function(e,t){void 0===t&&(t={});var n={},r=!1;return m(e,function(e){if("object"==typeof e&&j(e,"component")){if(!j(n,e.component)){var o={};if(j(t,e.component)){var u=t[e.component].getOptions;o=u?u():t[e.component]}n[e.component]=D(e.component,o)}}else r=!0}),r&&R(n)&&(n.unsorted=D("unsorted",{order:999})),n}(n,e);x(a,{config:n,components:r})});var n,o,u,i=(o={},u=function(e){return L(e,function(e,t){var n=e.getOptions;return D(t,n?n():null)})}(n=e),m(n,function(e,n){var r=e.getConfigs,a=e.getSettings,i=e.getTranslations,l=e.getUI,f={component:n},c=function(e,n){var r={group:{path:"groups"},tab:{path:"tabs"}},o=function(e,t){void 0===t&&(t=null);var n={};return m(e,function(e,r){if(e=V(r,e),t){var o=t(r,e);n[o.key]=o.config}else n[r]=e}),n},u=function(t,u,a,i,l,f){return void 0===i&&(i=!0),void 0===l&&(l="group"),function(t,o,u,a){void 0===a&&(a="group");var i=r[a].path,l={};m(u,function(t){if("object"==typeof t&&t.group){var o=t.group;m(r,function(t){var r=O(e,[n,t.path,o]);if(r){I(l,[t.path,o],r),F(e,[n,t.path,o]);var u=O(e,[n,t.path],{});0===R(u)&&F(e,[n,t.path])}})}}),I(e,[n,i,t],h({label:o},l))}(t,u,a,l),o(a,function(e,n){return n.group=n.group?t+"."+n.group:t,f&&f(e,n),{key:i?t+"."+e:e,config:n}})};return{addNested:function(e,t){return o(t,function(t,n){return"object"==typeof n&&(n.visibleIf&&(n.visibleIf=e+"."+n.visibleIf),n.longLabel=_(e)+" ⇢ "+(n.longLabel?n.longLabel:n.label?n.label:_(t))),{key:e+"."+t,config:n}})},addFeature:function(e,n,r,o,a){if(void 0===o&&(o=!1),void 0===a&&(a=!0),j(r,"enabled"))throw new Error('Feature "'+e+'" should not contain a property named "enabled".');return r=h({enabled:V("enabled",o)},r),u(e,n,r,a,"group",function(n,r){"enabled"!==n&&"object"==typeof r&&t.default.set(r,"visibleIf",e+".enabled")})},addGroup:u,addTab:function(e,t){var n=w(e);return u(n,e,t,!1,"tab")},addField:function(e,t){var n={},r=e+".isVisible",o=_(e);return n.isVisible={default:!0,label:"Visible",longLabel:o+" ⇢ Visible",styleClasses:"col-md-2"},n.required={default:!1,label:"Required",longLabel:o+" ⇢ Required",visibleIf:r,styleClasses:"col-md-2"},n.disabled={default:!1,label:"Disabled",longLabel:o+" ⇢ Disabled",visibleIf:r,styleClasses:"col-md-2"},n.readonly={default:!1,label:"Readonly",longLabel:o+" ⇢ Readonly",visibleIf:r,styleClasses:"col-md-2"},n.hasAutoFocus={default:!1,label:"Autofocus",longLabel:o+" ⇢ Autofocus",visibleIf:r,styleClasses:"col-md-2"},n.pattern={default:"",label:"Pattern",longLabel:o+" ⇢ Pattern",visibleIf:r,styleClasses:"col-md-12"},t&&t&&t({insert:function(e,t){if(j(n,e))throw new Error("Field "+e+" already exists!");var u=T(e,t,{visibleIf:r,styleClasses:"col-md-12"});u.longLabel=o+" ⇢ "+u.label,n[e]=u},modify:function(e,t){x(n[e],V(e,t,!0))}}),u(e,_(e),n,!0)}}}(u,n);r?z(o,r(c),f):(a&&z(o,a(c),h(f,{category:"setting"})),i&&z(o,i(c),h(f,{category:"translation"})),l&&z(o,l(c),h(f,{category:"ui"})))}),{configs:o,components:u});x(a,{configs:i.configs,components:i.components})}();return n&&n.then?n.then(function(){return a}):a}var a={name:e,label:o};return n?Promise.resolve(n()).then(u):u(null)}return o?Promise.resolve(o()).then(u):u(_(e))};return Promise.resolve(u?Promise.resolve(u()).then(i):i(a))}catch(e){return Promise.reject(e)}},N=/*#__PURE__*/function(e){var t,n;function r(t,n){var r;return(r=e.call(this,n.message+' ("'+t+'" source)')||this).name="SourceError",r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,v(t,n),r}(/*#__PURE__*/y(Error));exports.SourceError=N,exports.getTransformationOptions=o,exports.parseSource=A,exports.parseSourceConfigs=function(e,t){try{return Promise.resolve(A(d({source:e},t))).then(function(e){return e.configs})}catch(e){return Promise.reject(e)}},exports.transformResponse=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=null);var r=o(t),u=function(e,t){void 0===t&&(t=null);var n={};return l(e,function(e,r){if(t){var o=t(r,e),u=o.key,a=o.value;u&&(r=u),a&&(e=a)}n[r]=e}),n}(e,function(e){if(r.categorized){var t=f(n,e);t&&(e=t.category+"."+e)}return{key:e}});return r.nested?i(u):u},exports.transformToConfigValues=function(e,t){void 0===t&&(t={});var n=o(t),r=function(e,t){void 0===t&&(t=null);var n={};return c(e,function(e,r){var o=s(e,"value")?e.value:e.default;if(t){var u=t(r,e),a=u.key,i=u.value;a&&(r=a),i&&(o=i)}n[r]=o}),n}(e,function(e,t){return{key:e=n.categorized?t.category+"."+e:e}});return n.nested?i(r):r},exports.transformToNested=i;
//# sourceMappingURL=index.cjs.map
